import{q as m,D as y,p as e}from"./chunk-UIGDSWPH-CtiJzZl8.js";import{s as i,L as p,P as j}from"./startTurn-CVeS2D9V.js";import{t as c}from"./ToastProvider-DOBgYgXK.js";async function v(a){await i(a)}const P=m(function(){const{ws:t,peers:u,currentTurn:d}=y(),o=u,s=d,l=s?o.filter(r=>r.client_id!==s.client_id):o,x=async()=>{if(t)try{await v(t)}catch(r){const n=r instanceof Error?r.message:"Failed to end turn";console.error("PlayerTurn: ",r),c.error(n)}},f=async r=>{if(t)try{await i(t,r)}catch(n){const h=n instanceof Error?n.message:"Failed to start turn";console.error("PlayerTurn: ",n),c.error(h)}};return t?s?e.jsxs("div",{className:"max-h-full h-full flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"w-full flex flex-col items-center justify-center cursor-pointer shrink-0",onClick:x,children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-200",children:"Current Turn"}),e.jsx("span",{className:"text-sm text-slate-400",children:"Tap below to end turn"}),e.jsx(p,{color:s.color,active:!0,name:s.display_name})]}),e.jsxs("div",{className:"w-full flex-1 px-4 justify-center text-center overflow-hidden flex flex-col min-h-0",children:[e.jsx("span",{className:"text-sm text-slate-400 shrink-0 pb-2",style:{visibility:l.length>0?"visible":"hidden"},children:"Tap below to start the next player's turn"}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(j,{players:l,onSelect:f,rows:2,cols:3,small:!0,shouldScroll:l.length>6})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-slate-400",children:"Player not found"})}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-slate-400",children:"Connecting..."})})});export{P as default};
