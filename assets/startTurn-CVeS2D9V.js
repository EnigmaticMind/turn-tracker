import{a as h,p as t}from"./chunk-UIGDSWPH-CtiJzZl8.js";import{m as p}from"./ToastProvider-DOBgYgXK.js";function j({color:n,active:s=!1,small:a=!1,name:l}){const[r]=h.useState(()=>Math.random().toString(36).substring(2,9)),c=a?110:s?330:140,i=s?"text-4xl":"text-md",o=c-(a?60:80),f=c*.8;return t.jsxs(p.div,{className:"relative",animate:{scale:s?1.1:1,filter:s?"drop-shadow(0 0 20px rgba(255,255,255,0.3))":"none"},transition:{duration:.6,ease:"easeInOut"},children:[t.jsxs("svg",{width:c,height:c,viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("defs",{children:t.jsx("radialGradient",{id:`grad-${r}`,cx:"50%",cy:"50%",r:"50%",children:t.jsx("stop",{offset:"0%",stopColor:n,stopOpacity:"1"})})}),t.jsx(p.circle,{cx:"100",cy:"100",r:"80",fill:`url(#grad-${r})`,filter:`url(#liquid-${r})`,animate:{r:[78,82,80]},transition:{duration:3,repeat:1/0,repeatType:"mirror"}})]}),l&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:t.jsx("span",{className:`${i} font-bold text-white max-w-[${o}px] truncate drop-shadow-lg text-center`,style:{maxWidth:`${f}px`},children:l})})]})}function $({players:n,onSelect:s,rows:a=2,cols:l=2,small:r=!1,shouldScroll:c,currentTurn:i=null,turnStartTime:o=null}){const f=c??n.length>a*l,[g,m]=h.useState(0);h.useEffect(()=>{if(!i||!o){m(0);return}if(i){const e=()=>{if(!o){m(0);return}const x=Date.now(),u=Math.floor((x-o)/1e3);m(u)};e();const d=setInterval(e,1e3);return()=>clearInterval(d)}},[i,o]);const w=e=>{const d=Math.floor(e/3600),x=Math.floor(e%3600/60),u=e%60;return d>0?`${d}:${x.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`:`${x}:${u.toString().padStart(2,"0")}`};return n.length===0?t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("span",{className:"text-sm text-slate-400",children:"Waiting for players..."})}):t.jsx("div",{className:`w-full h-full ${f?"player-grid-wrapper":""}`,children:t.jsx("div",{className:`w-full h-full ${f?"overflow-y-auto scrollbar-hide":""}`,children:t.jsx("div",{className:"player-grid justify-items-center items-center ",style:{gridTemplateColumns:`repeat(${l}, 1fr)`,gridAutoRows:"auto"},children:n.map(e=>{const d=(i==null?void 0:i.client_id)===e.client_id;return t.jsxs("div",{className:"cursor-pointer flex flex-col items-center shrink-0",onClick:()=>s==null?void 0:s(e.client_id),children:[t.jsx(j,{color:e.color,active:!1,small:r,name:e.display_name}),d&&o!==null&&t.jsx("div",{className:"mt-2 text-sm text-slate-300 font-mono",children:w(g)})]},e.client_id)})})})})}async function N(n,s){var r;const a=((r=n.currentTurn)==null?void 0:r.client_id)||"",l=s||"";await n.connection.send("start_turn",{current_turn:a,new_turn:l})}export{j as L,$ as P,N as s};
