import{q as p,a as c,x,p as e,y as l}from"./chunk-UIGDSWPH-CtiJzZl8.js";import{i}from"./gameID-tORuqkkw.js";async function j(){try{const a="wss://turn-tracker-backend.fly.dev/ws".replace(/^wss?:\/\//,"https://").replace(/\/ws$/,"/health");if(!(await fetch(a,{method:"GET",cache:"no-cache",signal:AbortSignal.timeout(5e3)})).ok)throw new Response("Backend unavailable",{status:503,statusText:"Service Unavailable"})}catch(r){throw console.error("Home: Backend unavailable:",r),new Response(null,{status:302,headers:{Location:"/offline"}})}return{}}const w=p(function(){const[a,o]=c.useState(""),d=x(),n=new URLSearchParams(d.search).get("code");c.useEffect(()=>{if(n){const s=n.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,4);o(s)}},[n]);const h=s=>{const m=s.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,4);o(m)},u=s=>{if(!i(a))return s.preventDefault(),!1},t=i(a);return e.jsx("div",{children:e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-screen text-center space-y-8 p-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("h1",{className:"text-6xl font-bold text-transparent bg-clip-text bg-linear-to-r from-blue-400 via-cyan-300 to-purple-400",children:"Turn Tracker"})}),e.jsx("div",{className:"space-y-6",children:e.jsx(l,{to:"/game/",end:!0,children:e.jsx("button",{className:"relative bg-linear-to-r from-blue-600 to-cyan-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700/50 hover:to-cyan-700/50 transition-all",children:e.jsx("div",{className:"relative flex items-center space-x-2",children:e.jsx("span",{children:"Start New Game"})})})})}),e.jsx("div",{className:"bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 space-y-4",children:e.jsx("div",{className:"flex space-y-2",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("input",{type:"text",value:a,onChange:h,placeholder:"Enter code",maxLength:4,"aria-label":"Game code input",className:`flex-1 bg-slate-700/50 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 transition-all duration-300 ${a.length>0&&!t?"border-red-500 focus:border-red-500 focus:ring-red-500/20":t?"border-green-500 focus:border-cyan-500 focus:ring-cyan-500/20":"border-slate-600 focus:border-cyan-500 focus:ring-cyan-500/20"}`}),e.jsx(l,{to:t?`/game/${a}`:"#",end:!0,onClick:u,children:e.jsx("button",{disabled:!t,className:"bg-linear-to-r from-teal-500 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-teal-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-teal-500 disabled:hover:to-cyan-600",children:"Join"})})]})})}),e.jsx("div",{className:"space-y-6",children:e.jsx(l,{to:"/options",end:!0,children:e.jsx("button",{className:"relative border border-slate-800/50 bg-linear-to-r from-slate-600/30 to-slate-700/30 text-white px-6 py-3 rounded-lg font-semibold hover:from-slate-600/50 hover:to-slate-700/50 transition-all",children:e.jsx("div",{className:"relative flex items-center space-x-2",children:e.jsx("span",{children:"Options"})})})})})]})})});export{j as clientLoader,w as default};
